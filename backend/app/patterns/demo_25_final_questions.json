{
  "metadata": {
    "total_questions": 25,
    "description": "25 diverse demo questions with varied chart types",
    "chart_distribution": {
      "pie": 3,
      "bar": 8,
      "table": 5,
      "line": 3,
      "scatter": 2,
      "none": 2,
      "area": 2
    },
    "uncached_for_demo": [
      2,
      32
    ],
    "selected_from": "comprehensive_questions.json (100 questions)"
  },
  "questions": [
    {
      "id": 2,
      "question": "What is the gender distribution of employees?",
      "category": "easy",
      "pattern_type": "distribution",
      "tables": [
        "employees.employee_master"
      ],
      "sql": "SELECT \"Gender\", COUNT(*) AS count FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Gender\"",
      "visualization": "pie",
      "x_axis": "Gender",
      "y_axis": "count",
      "uncached_for_demo": true
    },
    {
      "id": 3,
      "question": "Show me headcount trends over time by month",
      "category": "easy",
      "pattern_type": "time_series_trend",
      "tables": [
        "employees.headcount_attrition_summary"
      ],
      "sql": "SELECT \"MonthEnd\", SUM(\"Headcount\") AS Total_Headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
      "visualization": "area",
      "x_axis": "MonthEnd",
      "y_axis": "Total_Headcount"
    },
    {
      "id": 7,
      "question": "Show me monthly attrition rate trends",
      "category": "medium",
      "pattern_type": "time_series_trend",
      "tables": [
        "employees.headcount_attrition_summary"
      ],
      "sql": "SELECT \"MonthEnd\", AVG(\"AttritionRate\") AS avg_attrition_rate FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
      "visualization": "area",
      "x_axis": "MonthEnd",
      "y_axis": "avg_attrition_rate"
    },
    {
      "id": 13,
      "question": "Show me employees with highest engagement scores",
      "category": "medium",
      "pattern_type": "top_n_join",
      "tables": [
        "employees.employee_master",
        "employees.engagement_surveys"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", AVG(es.\"OverallSatisfaction\") AS avg_satisfaction FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" ORDER BY avg_satisfaction DESC LIMIT 10",
      "visualization": "bar",
      "x_axis": "FullName",
      "y_axis": "avg_satisfaction"
    },
    {
      "id": 14,
      "question": "What is the average work-life balance score by department?",
      "category": "medium",
      "pattern_type": "aggregation_join",
      "tables": [
        "employees.employee_master",
        "employees.engagement_surveys"
      ],
      "sql": "SELECT em.\"Department\", ROUND(AVG(es.\"WorkLifeBalanceScore\"), 2) AS avg_worklife_score FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_worklife_score DESC",
      "visualization": "bar",
      "x_axis": "Department",
      "y_axis": "avg_worklife_score"
    },
    {
      "id": 17,
      "question": "Show me employees with their performance review scores",
      "category": "medium",
      "pattern_type": "join_display",
      "tables": [
        "employees.employee_master",
        "employees.performance_reviews"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", pr.\"ReviewDate\", pr.\"OverallScore\", pr.\"Communication\", pr.\"Teamwork\", pr.\"ProblemSolving\" FROM employees.employee_master em JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' ORDER BY pr.\"ReviewDate\" DESC",
      "visualization": "table",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 18,
      "question": "What is the average performance score by department?",
      "category": "medium",
      "pattern_type": "aggregation_join",
      "tables": [
        "employees.employee_master",
        "employees.performance_reviews"
      ],
      "sql": "SELECT em.\"Department\", ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_performance DESC",
      "visualization": "bar",
      "x_axis": "Department",
      "y_axis": "avg_performance"
    },
    {
      "id": 19,
      "question": "Show me employees with most skills",
      "category": "medium",
      "pattern_type": "top_n_join",
      "tables": [
        "employees.employee_master",
        "employees.skills_inventory"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", COUNT(si.\"SkillID\") AS skill_count FROM employees.employee_master em LEFT JOIN employees.skills_inventory si ON em.\"EmployeeID\" = si.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" ORDER BY skill_count DESC LIMIT 10",
      "visualization": "bar",
      "x_axis": "FullName",
      "y_axis": "skill_count"
    },
    {
      "id": 21,
      "question": "Show me training completion rates by department",
      "category": "medium",
      "pattern_type": "aggregation_join",
      "tables": [
        "employees.employee_master",
        "employees.training_records"
      ],
      "sql": "SELECT em.\"Department\", COUNT(CASE WHEN tr.\"Status\" = 'Completed' THEN 1 END) * 100.0 / COUNT(tr.\"TrainingID\") AS completion_rate FROM employees.employee_master em JOIN employees.training_records tr ON em.\"EmployeeID\" = tr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\"",
      "visualization": "bar",
      "x_axis": "Department",
      "y_axis": "completion_rate"
    },
    {
      "id": 27,
      "question": "Show me monthly termination trends",
      "category": "medium",
      "pattern_type": "time_series_trend",
      "tables": [
        "employees.headcount_attrition_summary"
      ],
      "sql": "SELECT \"MonthEnd\", SUM(\"Terminations\") AS total_terminations FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
      "visualization": "line",
      "x_axis": "MonthEnd",
      "y_axis": "total_terminations"
    },
    {
      "id": 31,
      "question": "Show me department headcount over time",
      "category": "medium",
      "pattern_type": "time_series_grouped",
      "tables": [
        "employees.headcount_attrition_summary"
      ],
      "sql": "SELECT \"MonthEnd\", \"Department\", SUM(\"Headcount\") AS headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\", \"Department\" ORDER BY \"MonthEnd\", \"Department\"",
      "visualization": "line",
      "x_axis": "MonthEnd",
      "y_axis": "headcount"
    },
    {
      "id": 32,
      "question": "What is the employee count by status?",
      "category": "easy",
      "pattern_type": "group_by_category",
      "tables": [
        "employees.employee_master"
      ],
      "sql": "SELECT \"Status\", COUNT(*) AS count FROM employees.employee_master GROUP BY \"Status\"",
      "visualization": "pie",
      "x_axis": "Status",
      "y_axis": "count",
      "uncached_for_demo": true
    },
    {
      "id": 33,
      "question": "Show me employees with their latest performance review",
      "category": "medium",
      "pattern_type": "latest_record_join",
      "tables": [
        "employees.employee_master",
        "employees.performance_reviews"
      ],
      "sql": "SELECT DISTINCT ON (em.\"EmployeeID\") em.\"FullName\", em.\"Department\", pr.\"ReviewDate\", pr.\"OverallScore\" FROM employees.employee_master em JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' ORDER BY em.\"EmployeeID\", pr.\"ReviewDate\" DESC",
      "visualization": "table",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 35,
      "question": "Show me skill proficiency distribution",
      "category": "medium",
      "pattern_type": "distribution",
      "tables": [
        "employees.skills_inventory"
      ],
      "sql": "SELECT \"ProficiencyLevel\", COUNT(*) AS count FROM employees.skills_inventory GROUP BY \"ProficiencyLevel\"",
      "visualization": "pie",
      "x_axis": "ProficiencyLevel",
      "y_axis": "count"
    },
    {
      "id": 37,
      "question": "Show me employees with multiple performance reviews",
      "category": "medium",
      "pattern_type": "having_clause",
      "tables": [
        "employees.employee_master",
        "employees.performance_reviews"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", COUNT(pr.\"ReviewID\") AS review_count FROM employees.employee_master em JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" HAVING COUNT(pr.\"ReviewID\") > 1 ORDER BY review_count DESC",
      "visualization": "bar",
      "x_axis": "FullName",
      "y_axis": "review_count"
    },
    {
      "id": 38,
      "question": "What is the correlation between engagement and performance?",
      "category": "tricky",
      "pattern_type": "correlation_analysis",
      "tables": [
        "employees.employee_master",
        "employees.engagement_surveys",
        "employees.performance_reviews"
      ],
      "sql": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\"",
      "visualization": "scatter",
      "x_axis": "avg_engagement",
      "y_axis": "avg_performance"
    },
    {
      "id": 41,
      "question": "Show me employees who completed training in the last 6 months",
      "category": "medium",
      "pattern_type": "date_filter_join",
      "tables": [
        "employees.employee_master",
        "employees.training_records"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", tr.\"CourseName\", tr.\"CompletionDate\", tr.\"Score\" FROM employees.employee_master em JOIN employees.training_records tr ON em.\"EmployeeID\" = tr.\"EmployeeID\" WHERE tr.\"Status\" = 'Completed' AND tr.\"CompletionDate\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY tr.\"CompletionDate\" DESC",
      "visualization": "table",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 43,
      "question": "Show me department with highest engagement scores",
      "category": "medium",
      "pattern_type": "top_n_aggregation",
      "tables": [
        "employees.employee_master",
        "employees.engagement_surveys"
      ],
      "sql": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_engagement DESC LIMIT 1",
      "visualization": "bar",
      "x_axis": "Department",
      "y_axis": "avg_engagement"
    },
    {
      "id": 44,
      "question": "What is the percentage of employees with advanced skills?",
      "category": "medium",
      "pattern_type": "calculated_percentage",
      "tables": [
        "employees.employee_master",
        "employees.skills_inventory"
      ],
      "sql": "SELECT COUNT(DISTINCT CASE WHEN si.\"ProficiencyLevel\" = 'Advanced' OR si.\"ProficiencyLevel\" = 'Expert' THEN em.\"EmployeeID\" END) * 100.0 / COUNT(DISTINCT em.\"EmployeeID\") AS advanced_skill_percentage FROM employees.employee_master em LEFT JOIN employees.skills_inventory si ON em.\"EmployeeID\" = si.\"EmployeeID\" WHERE em.\"Status\" = 'Active'",
      "visualization": "none",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 45,
      "question": "Show me monthly compensation changes",
      "category": "medium",
      "pattern_type": "time_series_join",
      "tables": [
        "employees.compensation_history"
      ],
      "sql": "SELECT DATE_TRUNC('month', \"ChangeDate\") AS month, COUNT(*) AS change_count, SUM(\"NewSalary\" - \"OldSalary\") AS total_increase FROM employees.compensation_history GROUP BY DATE_TRUNC('month', \"ChangeDate\") ORDER BY month",
      "visualization": "line",
      "x_axis": "month",
      "y_axis": "change_count"
    },
    {
      "id": 47,
      "question": "Show me employees with no performance reviews",
      "category": "medium",
      "pattern_type": "left_join_null",
      "tables": [
        "employees.employee_master",
        "employees.performance_reviews"
      ],
      "sql": "SELECT em.\"EmployeeID\", em.\"FullName\", em.\"Department\" FROM employees.employee_master em LEFT JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' AND pr.\"ReviewID\" IS NULL",
      "visualization": "table",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 49,
      "question": "Show me employees with salary increases above 10%",
      "category": "medium",
      "pattern_type": "calculated_filter",
      "tables": [
        "employees.compensation_history",
        "employees.employee_master"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", ch.\"ChangeDate\", ch.\"OldSalary\", ch.\"NewSalary\", ROUND(((ch.\"NewSalary\" - ch.\"OldSalary\") / NULLIF(ch.\"OldSalary\", 0)) * 100, 2) AS increase_percent FROM employees.compensation_history ch JOIN employees.employee_master em ON ch.\"EmployeeID\" = em.\"EmployeeID\" WHERE ((ch.\"NewSalary\" - ch.\"OldSalary\") / NULLIF(ch.\"OldSalary\", 0)) * 100 > 10 ORDER BY increase_percent DESC",
      "visualization": "table",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 55,
      "question": "Show me employees with multiple salary changes",
      "category": "medium",
      "pattern_type": "having_clause",
      "tables": [
        "employees.employee_master",
        "employees.compensation_history"
      ],
      "sql": "SELECT em.\"FullName\", em.\"Department\", COUNT(ch.\"ChangeID\") AS change_count FROM employees.employee_master em JOIN employees.compensation_history ch ON em.\"EmployeeID\" = ch.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" HAVING COUNT(ch.\"ChangeID\") > 1 ORDER BY change_count DESC",
      "visualization": "bar",
      "x_axis": "FullName",
      "y_axis": "change_count"
    },
    {
      "id": 62,
      "question": "What is the average number of training courses per employee?",
      "category": "medium",
      "pattern_type": "single_value_aggregation",
      "tables": [
        "employees.employee_master",
        "employees.training_records"
      ],
      "sql": "SELECT ROUND(AVG(course_count), 2) AS avg_courses FROM (SELECT COUNT(tr.\"TrainingID\") AS course_count FROM employees.employee_master em LEFT JOIN employees.training_records tr ON em.\"EmployeeID\" = tr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\") AS course_counts",
      "visualization": "none",
      "x_axis": null,
      "y_axis": null
    },
    {
      "id": 80,
      "question": "What is the correlation between salary and performance?",
      "category": "tricky",
      "pattern_type": "correlation_analysis",
      "tables": [
        "employees.employee_master",
        "employees.performance_reviews"
      ],
      "sql": "SELECT em.\"Department\", ROUND(AVG(em.\"Salary\"), 2) AS avg_salary, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' AND em.\"Salary\" IS NOT NULL GROUP BY em.\"Department\"",
      "visualization": "scatter",
      "x_axis": "avg_salary",
      "y_axis": "avg_performance"
    }
  ]
}