{
  "summary": {
    "total": 25,
    "successful": 25,
    "failed": 0,
    "sql_correct": 22,
    "viz_correct": 22,
    "cache_hits": 25,
    "pattern_matches": 0,
    "total_tokens": 0,
    "total_time": 5.101423025131226,
    "issues": [
      "Q2: Viz mismatch - Expected pie, Got bar",
      "Q16: SQL mismatch",
      "Q20: SQL mismatch",
      "Q31: SQL mismatch",
      "Q31: Viz mismatch - Expected line, Got bar",
      "Q50: Viz mismatch - Expected bar, Got pie"
    ]
  },
  "results": [
    {
      "success": true,
      "question_id": 1,
      "question": "Show me department wise headcount",
      "elapsed": 4.009376049041748,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \"Department\", COUNT(*) AS headcount FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Department\" ORDER BY headcount DESC",
        "expected": "SELECT \"Department\", COUNT(*) AS headcount FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Department\" ORDER BY headcount DESC",
        "comparison": {
          "match": true,
          "type": "exact",
          "score": 1.0
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 2,
      "question": "What is the gender distribution?",
      "elapsed": 0.061738014221191406,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 4,
      "sql": {
        "generated": "SELECT \"Gender\", COUNT(*) AS count FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Gender\"",
        "expected": "SELECT \"Gender\", COUNT(*) AS count FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Gender\"",
        "comparison": {
          "match": true,
          "type": "exact",
          "score": 1.0
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "pie",
        "match": false
      }
    },
    {
      "success": true,
      "question_id": 3,
      "question": "Show me headcount trends over time by month",
      "elapsed": 0.022927045822143555,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 95,
      "sql": {
        "generated": "SELECT \"MonthEnd\", SUM(\"Headcount\") AS Total_Headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
        "expected": "SELECT \"MonthEnd\", SUM(\"Headcount\") AS Total_Headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
        "comparison": {
          "match": true,
          "type": "exact",
          "score": 1.0
        }
      },
      "visualization": {
        "generated": "line",
        "expected": "line",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 4,
      "question": "Give me Top 3 Employees with highest salary",
      "elapsed": 0.016000032424926758,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 3,
      "sql": {
        "generated": "SELECT \"EmployeeID\", \"FullName\", \"Department\", \"Salary\" FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL ORDER BY \"Salary\" DESC LIMIT 3",
        "expected": "SELECT \"EmployeeID\", \"FullName\", \"Department\", \"Salary\" FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL ORDER BY \"Salary\" DESC LIMIT 3",
        "comparison": {
          "match": true,
          "type": "exact",
          "score": 1.0
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 6,
      "question": "Show me average salary by department",
      "elapsed": 0.050039052963256836,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 5,
      "sql": {
        "generated": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_engagement DESC LIMIT 5",
        "expected": "SELECT \"Department\", ROUND(AVG(\"Salary\"), 2) AS avg_salary FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL GROUP BY \"Department\" ORDER BY avg_salary DESC",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": false
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 7,
      "question": "Show me monthly attrition rate trends",
      "elapsed": 0.05163097381591797,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 95,
      "sql": {
        "generated": "SELECT \"MonthEnd\", SUM(\"Headcount\") AS Total_Headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
        "expected": "SELECT \"MonthEnd\", AVG(\"AttritionRate\") AS avg_attrition_rate FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "line",
        "expected": "line",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 8,
      "question": "What is the total number of active employees?",
      "elapsed": 0.013498067855834961,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 1,
      "sql": {
        "generated": "SELECT COUNT(*) AS Total_Employees FROM employees.employee_master WHERE \"Status\" = 'Active' OR \"TerminationDate\" IS NULL;",
        "expected": "SELECT COUNT(*) AS total_employees FROM employees.employee_master WHERE \"Status\" = 'Active'",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "none",
        "expected": "none",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 9,
      "question": "Show me employees by job title",
      "elapsed": 0.015790700912475586,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 26,
      "sql": {
        "generated": "SELECT \"JobTitle\", COUNT(*) AS num_employees FROM employees.employee_master WHERE \"Status\" = 'Active' OR \"TerminationDate\" IS NULL GROUP BY \"JobTitle\";",
        "expected": "SELECT \"JobTitle\", COUNT(*) AS count FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"JobTitle\" ORDER BY count DESC",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": false,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 10,
      "question": "What is the average performance rating by department?",
      "elapsed": 0.013926029205322266,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \"Department\", ROUND(AVG(\"Salary\"), 2) AS avg_salary FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL GROUP BY \"Department\" ORDER BY avg_salary DESC",
        "expected": "SELECT \"Department\", ROUND(AVG(\"PerformanceRating\"), 2) AS avg_rating FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"PerformanceRating\" IS NOT NULL GROUP BY \"Department\" ORDER BY avg_rating DESC",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 11,
      "question": "Show me salary changes over time for employee PNR-1001",
      "elapsed": 0.01338505744934082,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 1,
      "sql": {
        "generated": "SELECT ch.\"ChangeDate\", ch.\"NewSalary\"\nFROM employees.compensation_history ch\nJOIN employees.employee_master em ON ch.\"EmployeeID\" = em.\"EmployeeID\"\nWHERE em.\"EmployeeID\" = 'PNR-1001'\nORDER BY ch.\"ChangeDate\";",
        "expected": "SELECT ch.\"ChangeDate\", ch.\"OldSalary\", ch.\"NewSalary\", ch.\"Reason\", em.\"FullName\" FROM employees.compensation_history ch JOIN employees.employee_master em ON ch.\"EmployeeID\" = em.\"EmployeeID\" WHERE ch.\"EmployeeID\" = 'PNR-1001' ORDER BY ch.\"ChangeDate\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "line",
        "expected": "line",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 13,
      "question": "Show me employees with highest engagement scores",
      "elapsed": 0.018207073211669922,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT em.\"FullName\", em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" ORDER BY (AVG(es.\"OverallSatisfaction\") + AVG(pr.\"OverallScore\")) / 2 DESC LIMIT 10",
        "expected": "SELECT em.\"FullName\", em.\"Department\", AVG(es.\"OverallSatisfaction\") AS avg_satisfaction FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" ORDER BY avg_satisfaction DESC LIMIT 10",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 14,
      "question": "What is the average work-life balance score by department?",
      "elapsed": 0.014310836791992188,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT em.\"Department\", ROUND(AVG(es.\"WorkLifeBalanceScore\"), 2) AS avg_worklife_score FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_worklife_score DESC",
        "expected": "SELECT em.\"Department\", ROUND(AVG(es.\"WorkLifeBalanceScore\"), 2) AS avg_worklife_score FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_worklife_score DESC",
        "comparison": {
          "match": true,
          "type": "exact",
          "score": 1.0
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 15,
      "question": "Show me monthly hiring trends",
      "elapsed": 0.007521867752075195,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 95,
      "sql": {
        "generated": "SELECT \"MonthEnd\", SUM(\"Headcount\") AS Total_Headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
        "expected": "SELECT \"MonthEnd\", SUM(\"Hires\") AS total_hires FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\" ORDER BY \"MonthEnd\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "line",
        "expected": "line",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 16,
      "question": "Which department has the highest average attrition rate?",
      "elapsed": 0.2345438003540039,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \"Department\", MAX(\"AttritionRate\") AS Max_Attrition FROM employees.headcount_attrition_summary WHERE \"Headcount\" > 0 GROUP BY \"Department\";",
        "expected": "SELECT \"Department\", AVG(\"AttritionRate\") AS avg_attrition FROM employees.headcount_attrition_summary GROUP BY \"Department\" ORDER BY avg_attrition DESC LIMIT 1",
        "comparison": {
          "match": false,
          "type": "mismatch",
          "score": 0.5,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": false,
            "group_by": true,
            "order_by": false,
            "limit": false
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 18,
      "question": "What is the average performance score by department?",
      "elapsed": 0.12866997718811035,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \"Department\", ROUND(AVG(\"Salary\"), 2) AS avg_salary FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL GROUP BY \"Department\" ORDER BY avg_salary DESC",
        "expected": "SELECT em.\"Department\", ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_performance DESC",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 20,
      "question": "What are the most common skills?",
      "elapsed": 0.092620849609375,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 26,
      "sql": {
        "generated": "SELECT \"JobTitle\", COUNT(*) AS count FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"JobTitle\" ORDER BY count DESC",
        "expected": "SELECT \"SkillName\", COUNT(*) AS count FROM employees.skills_inventory GROUP BY \"SkillName\" ORDER BY count DESC",
        "comparison": {
          "match": false,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": false,
          "components": {
            "select": true,
            "from": true,
            "where": false,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 21,
      "question": "Show me training completion rates by department",
      "elapsed": 0.009956836700439453,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \n  e1.\"Department\",\n  COUNT(e2.\"TrainingID\") AS Total_Trainings,\n  SUM(CASE WHEN e2.\"Status\" = 'Completed' THEN 1 ELSE 0 END) AS Completed_Trainings\nFROM \n  employees.employee_master e1\nJOIN \n  employees.training_records e2 ON e1.\"EmployeeID\" = e2.\"EmployeeID\"\nGROUP BY \n  e1.\"Department\";",
        "expected": "SELECT em.\"Department\", COUNT(CASE WHEN tr.\"Status\" = 'Completed' THEN 1 END) * 100.0 / COUNT(tr.\"TrainingID\") AS completion_rate FROM employees.employee_master em JOIN employees.training_records tr ON em.\"EmployeeID\" = tr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": false,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 25,
      "question": "Show me top 10 employees with highest performance ratings",
      "elapsed": 0.07295918464660645,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT em.\"FullName\", em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" ORDER BY (AVG(es.\"OverallSatisfaction\") + AVG(pr.\"OverallScore\")) / 2 DESC LIMIT 10",
        "expected": "SELECT \"EmployeeID\", \"FullName\", \"Department\", \"PerformanceRating\" FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"PerformanceRating\" IS NOT NULL ORDER BY \"PerformanceRating\" DESC LIMIT 10",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": false,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 26,
      "question": "What is the salary distribution by gender?",
      "elapsed": 0.08548712730407715,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 4,
      "sql": {
        "generated": "SELECT \"Gender\", COUNT(*) AS count FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Gender\"",
        "expected": "SELECT \"Gender\", COUNT(*) AS count, ROUND(AVG(\"Salary\"), 2) AS avg_salary FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL GROUP BY \"Gender\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 31,
      "question": "What is department headcount over time?",
      "elapsed": 0.03073430061340332,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \"Department\", COUNT(*) AS headcount FROM employees.employee_master WHERE \"Status\" = 'Active' GROUP BY \"Department\" ORDER BY headcount DESC",
        "expected": "SELECT \"MonthEnd\", \"Department\", SUM(\"Headcount\") AS headcount FROM employees.headcount_attrition_summary GROUP BY \"MonthEnd\", \"Department\" ORDER BY \"MonthEnd\", \"Department\"",
        "comparison": {
          "match": false,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": false,
          "components": {
            "select": true,
            "from": true,
            "where": false,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "line",
        "match": false
      }
    },
    {
      "success": true,
      "question_id": 32,
      "question": "Show me employee count by status",
      "elapsed": 0.017737150192260742,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 2,
      "sql": {
        "generated": "SELECT \"Status\", COUNT(*) AS employee_count FROM employees.employee_master WHERE \"Status\" IN ('Active', 'Inactive', 'Terminated') GROUP BY \"Status\";",
        "expected": "SELECT \"Status\", COUNT(*) AS count FROM employees.employee_master GROUP BY \"Status\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": false,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "pie",
        "expected": "pie",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 38,
      "question": "What is the correlation between engagement and performance?",
      "elapsed": 0.020238161087036133,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\"",
        "expected": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\"",
        "comparison": {
          "match": true,
          "type": "exact",
          "score": 1.0
        }
      },
      "visualization": {
        "generated": "scatter",
        "expected": "scatter",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 39,
      "question": "Show me top 5 departments by average salary",
      "elapsed": 0.00927877426147461,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 5,
      "sql": {
        "generated": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_engagement DESC LIMIT 5",
        "expected": "SELECT \"Department\", ROUND(AVG(\"Salary\"), 2) AS avg_salary FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"Salary\" IS NOT NULL GROUP BY \"Department\" ORDER BY avg_salary DESC LIMIT 5",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 43,
      "question": "Show me department with highest engagement scores",
      "elapsed": 0.07332825660705566,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT em.\"FullName\", em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement, ROUND(AVG(pr.\"OverallScore\"), 2) AS avg_performance FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" JOIN employees.performance_reviews pr ON em.\"EmployeeID\" = pr.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"EmployeeID\", em.\"FullName\", em.\"Department\" ORDER BY (AVG(es.\"OverallSatisfaction\") + AVG(pr.\"OverallScore\")) / 2 DESC LIMIT 10",
        "expected": "SELECT em.\"Department\", ROUND(AVG(es.\"OverallSatisfaction\"), 2) AS avg_engagement FROM employees.employee_master em JOIN employees.engagement_surveys es ON em.\"EmployeeID\" = es.\"EmployeeID\" WHERE em.\"Status\" = 'Active' GROUP BY em.\"Department\" ORDER BY avg_engagement DESC LIMIT 1",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 1.0,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": true,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "bar",
        "expected": "bar",
        "match": true
      }
    },
    {
      "success": true,
      "question_id": 50,
      "question": "What is the retention rate by department?",
      "elapsed": 0.017517805099487305,
      "cache_hit": true,
      "pattern_matched": false,
      "rag_used": false,
      "tokens": 0,
      "results_count": 10,
      "sql": {
        "generated": "SELECT \"Department\", COUNT(*) AS retention_rate FROM employees.employee_master WHERE \"Status\" = 'Active' AND \"TerminationDate\" IS NULL GROUP BY \"Department\";",
        "expected": "SELECT \"Department\", COUNT(CASE WHEN \"Status\" = 'Active' THEN 1 END) * 100.0 / COUNT(*) AS retention_rate FROM employees.employee_master GROUP BY \"Department\"",
        "comparison": {
          "match": true,
          "type": "semantic",
          "score": 0.8333333333333334,
          "tables_match": true,
          "components": {
            "select": true,
            "from": true,
            "where": false,
            "group_by": true,
            "order_by": true,
            "limit": true
          }
        }
      },
      "visualization": {
        "generated": "pie",
        "expected": "bar",
        "match": false
      }
    }
  ]
}